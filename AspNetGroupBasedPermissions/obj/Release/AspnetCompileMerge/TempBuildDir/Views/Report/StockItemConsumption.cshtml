@using AspNetGroupBasedPermissions;
@using AspNetGroupBasedPermissions.Helpers;


@{
    ViewBag.Title = "Material Consumption";
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <div class="col-md-12">

        <div class="ibox float-e-margins">
            <div class="ibox-content">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="col-lg-6">

                            <div class="form-group">
                                <b class="col-md-2">Rig</b>
                                @Html.DropDownList("SiteCode", ViewData["SiteCode"] as SelectList)
                            </div>
                            <div class="form-group">
                                <b class="col-md-2">Document Type</b>
                                @Html.DropDownList("documentType", ViewData["documentType"] as SelectList)

                            </div>
                            <div class=" form-group m-b-xs">
                                @Html.Label("From Date", new { @class = "control-label col-md-2" })
                                <div class="col-md-10 m-b-xs">
                                    <div class="input-group date" id="StartDateId">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        @Html.TextBox("StartDate", (DateTime)ViewData["selectedDate"], new { @class = "form-control", @style = "width:40%" })
                                    </div>
                                </div>
                            </div>

                            <br/>

                            <div class=" form-group m-b-xs">
                                @Html.Label("To Date", new { @class = "control-label col-md-2" })
                                <div class="col-md-10 m-b-xs">
                                    <div class="input-group date" id="EndDateId">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        @Html.TextBox("EndDate", (DateTime)ViewData["selectedDate"], new { @class = "form-control", @style = "width:40%" })
                                    </div>
                                </div>
                                <div class="col-md-5"></div>
                                @*@Html.EncodedActionLink("Download", "DownloadStockItemConsumption", "Report", new { StDate = "startDate", EndDate = "EndDate"}, new { @class = "btn btn-primary", @download = "" })*@
                            </div>
                           
                        </div>
                        <div class="col-lg-6">

                        </div>
                    </div>



                    <div class="form-group" style="text-align:left; padding-top:20px !important;">
                        <div class="col-md-12">            
                            <input type="submit" class="btn btn-primary" value="Download" />
                        </div>
                    </div>

                    </div>

            </div>
        </div>
    </div>
   
}

@section Styles {
    @Styles.Render("~/Content/plugins/iCheck/iCheckStyles")
    @Styles.Render("~/plugins/wizardStepsStyles")
    @Styles.Render("~/plugins/clockpickerStyles")
    @Styles.Render("~/plugins/dataPickerStyles")
    @Styles.Render("~/plugins/imagecropperStyles")
    @Styles.Render("~/Content/plugins/chosen/chosenStyles")
    @Styles.Render("~/Content/plugins/dropzone/dropZoneStyles")
    @Styles.Render("~/Content/plugins/blueimp/css/")
}

@section Scripts {

    @Scripts.Render("~/plugins/notifyjs")
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jqueryui")
    @Scripts.Render("~/plugins/wizardSteps")
    @Scripts.Render("~/plugins/iCheck")
    @Scripts.Render("~/plugins/validate")
    @Scripts.Render("~/plugins/dataPicker")
    @Scripts.Render("~/plugins/imagecropper")
    @Scripts.Render("~/plugins/chosen")
    @Scripts.Render("~/plugins/lightboxGallery")
    @Scripts.Render("~/plugins/dropZone")

    @Scripts.Render("~/plugins/dataTables")
    @Scripts.Render("~/plugins/knockout")
    @Scripts.Render("~/app/knockoutDatatable")

<script type="text/javascript">
    $(document).ready(function () {
        $("#StartDateId").datepicker({
            todayBtn: "linked",
            format: "dd/mm/yyyy",
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true
        }).datepicker("setDate", new Date());

        $("#EndDateId").datepicker({
            todayBtn: "linked",
            format: "dd/mm/yyyy",
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true
        }).datepicker("setDate", new Date());      

    });

    $('#myLink').click(function () {
        var firstname = $('#StartDate').val(); // get the textbox value
        var url = $(this).attr('href') + 'StDate=' + firstname; // build new url
        location.href = url; // redirect
        return false; // cancel default redirect
    });

 </script>
}